---
layout:     post
title:      "Ubuntu with Mac"
subtitle:   ""
active: journal
image:
  feature: 
date:       2016-11-05 
header-img: 
tags: Mac, Ubuntu
categories: Geek
---

# Linux, Mac과 밤을 꼬박새운 일지.

내 맥북에어는 2013 mid 버젼이다. 스웨덴으로 교환학생을 떠나는 날, 인천공항에서 배송대행으로 미국에 주문했던 맥북에어를 받아 박스를 뜯자마자 들고 스웨덴으로 떠났었다. 이더넷도 없고 공유기도 없어서 초반에 많이 힘들었던 기억이 난다. 

한국으로 돌아와서는, 내가 좋아하던 리눅스를 맥북에 깔아보았고 rEFIt를 이용해서 듀얼부팅했었다. 그러나 rEFIt가 그다지 맘에 들지도 않고 아직 맥에도 익숙하지 않았던 상태라 깨끗하게 포맷을 해버리고 요세미티를 올렸던 것 같다. 

그리고 이제 다시 독일이다. 이제는 linux가 재미가 아닌 물리때문에 필요해지게 생겼다. 

독일에서는 토렌트 사용이 금지되어있다. 금지라기 보다는 세금을 빵! 때린다는게 걸림돌이지만. 그래서 윈도우가 있더라도 암흑의 루트로 프로그램을 받아서 설치할 수가 없고, 원래부터 윈도우를 좋아하지 않아서 ~~작년에 몰컴하느라 윈도우를 잠시 깔았던 것을 제외하면~~ 내 맥북에는 윈도우가 없다.

그리고 지난번, linux병이 도져서 linux를 듀얼부팅으로 깔다가 더이상 EFI프로그램들이 먹히지 않음을 깨닫고 그 대가로 Machintosh HD SSD를 통째로 내주었었다.. 초대해줘서 정말 고마웠는데 못 간 옆집 파티와 잠을 못자 피로에 찌든 건 옵션이었고...

그때의 실패를 발판삼아 꼬박꼬박 타임머신으로 백업해뒀고, 금요일인 어제 linux를 다시 깔아보았다. 이번에는 하드를 날려먹지 않으려고 120G 외장SSD에 설치를 했는데, 역시나 부팅이 잡히지가 않았다.

~~빌어먹을 맥~~

폐쇄성이 극에 도달하여 타 OS 부팅까지 폐쇄해놓고 지들이 만든 프로그램(boot camp)으로만 윈도우 설치가 되게 해놓은 악랄한 놈들..

해결책을 열심히 찾아보았고, 외장하드 파티션을 갈갈이 찢어놓은 다음 그 파티션에 부트로더를 올리면 된다는 어느 블로거의 글을 믿고 터미널로 부트로더를 올렸는데 ~~미친 복구모드도 아니고 일반 부팅 상태에서 맥이 그렇게 깊은 작업을 할 수 있을리가 없잖아~~ 그 부트로더가 어디에 박혔는지, 난 분명 외장하드로 박아놨는데 왜인지 모르게 맥의 SSD에 잡힌 듯 했다.

원래는 간지나는 Kali linux를 설치하려 했으나 범용성이 좋은 Ubuntu로 시도를 하고 있었고, 그 블로거의 부트로더도 Ubuntu의 것이었기 때문에 Ubuntu로 도전을 했는데, 결과는 또 맥을 날려먹은 것이다. 정확히 말하면 EFI 부분만 날려먹은건데, 집에서 인터넷도 안되고 빡쳐서 타임머신을 돌렸다.

타임머신이 뿅! 하고 빠르게 되는 줄 알고 있었다. 이번이 처음 복구해 본 것이어서 이렇게나 느릴 줄은 몰랐다. 어쨌든 1시간 정도 걸려서 복구. 정말 타임머신 같은 느낌이 들었다. Safari의 탭이며, Thunderbird의 메일목록까지 이틀 전으로 되돌아간 느낌이었다. ~~열심히 Python으로 코딩해 놓은 내 Dark Matter 숙제는 날아가버렸지만~~

어쨌든 복구 후 다시 linux 설치 놀이를 했다. 이번엔 그 블로거가 추천한 방법이 아닌 다른 방법을 쓰겠다고 다짐하고 열심히 설치를 했다. 이번에는 설치가 제대로 되어가고 있었고, 재부팅시에도 날 타임머신을 타게 만들었던 Grub은 나타나지 않았고, 새벽 6시가 되어서야 잠들 수 있었다.

내 맥은 7시30분에 켜져서 클래식 음악을 재생하도록 되어있는데, 새벽 6시에 잠들었으니 그 알람을 비활성화 시키려고 뚜껑을 닫고 잤다. 아침을 먹고 도서관에 가기 전 맥 뚜껑을 열었는데 어찌된 영문인지 그 부트로더가 다시 살아나서 나에게 안녕?! 하며 또 날 괴롭혔다. 분명 Machintosh HD 는 건드리지도 않았는데 말이다. 거의 다 성공했는 줄 알았는데... 또다시 처음으로 되돌아가 버렸다. 더이상 시간을 지체할 수 없어 이번에는 타임머신을 돌리지 않고 바로 도서관으로 향했다.

> 이왕 Machintosh HD의 EFI 날려먹은 거, EFI 프로그램을 제대로 설치나 해보자

라고 생각을 하고, rEFInd를 설치했다. 그러자 부팅 시 Ubuntu로고와 Apple로고가 둥실 떠있게 되었고 Ubuntu를 선택하자 외장하드의 Ubuntu가 OS로서 작동하였다!!

그리고선 Kali linux 를 설치했는데, 드라이버 설치가 안 되어 있어서 와이파이 접속이 불가능했고, 해결책을 찾아보았는데 가장 간단한 해결책은 바로 Thunderbolt에 Ethernet을 연결하여 get하는 방법이었다... 그게 가능할리가 없잖아.. 그게 있었으면 스웨덴에서도 고생안했지 인마..

결국 Kali linux는 포기하고 Ubuntu로 다시 재설치했는데, rEFInd는 무슨 일인지 설치할 때 마다 Ubuntu로고를 하나 더 만들어냈고, 이에 빡친 나는 rEFInd를 제거하는 방법을 찾아보았으나, 다들 잡히지도 않는 EFI에서 삭제하면 된다는 오래된 블로그 글들 뿐이었고, 빡쳐서 다시 복구모드로 진입, EFI드라이브를 맥의 것으로 복구해버렸다.

이렇게 하면 외장하드가 읽히지도, 부팅이 되지도 않는다는 걸 알고 있었지만 맥이 더럽혀지는게 싫어서 복구해버렸다. 

그런데 이게 웬일, 부팅 시 외장하드를 꼽고 option키를 누르고 있으니 Ubuntu로 시동이 가능했고, 외장하드의 Plug in 여부와는 관계없이 일반 부팅시에는 예쁜 Apple로고만 둥둥 떠서 맥OS를 띄워주었다.

## 드디어 성공!!  
(이게 오늘 오후 6시즈음..)

비록 간지쩌는 Kali linux설치에는 실패했지만, ~~와이파이가 안잡혀서 실패..~~ 이제 linux의 수학프로그램인 Sage를 이용할 수 있다. ~~는 개뿔 16.10 깔았더니 Sage는 16.04까지만 지원해서 실행이 되지도 않는다 ㅡㅡ~~

그래도 뭐.. 깔끔하게 설치되었으니 가끔 가지고 놀다가 Sage가 업데이트 되면 써먹지 뭐..

